(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4102],{53030:function(e,t,n){"use strict";n.r(t);var a,s=n(4410);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.default=function(e){return s.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"#fff"},e),a||(a=s.createElement("path",{d:"M8 1q2.97.078 4.945 2.055Q14.923 5.03 15 8q-.078 2.97-2.055 4.945Q10.97 14.923 8 15q-2.97-.078-4.945-2.055Q1.078 10.97 1 8q.078-2.97 2.055-4.945Q5.03 1.078 8 1m1.047 4.297a.96.96 0 0 0 .672-.242q.266-.242.266-.648t-.266-.649a.95.95 0 0 0-.664-.242.95.95 0 0 0-.664.242q-.265.242-.265.649 0 .406.265.648a.94.94 0 0 0 .656.242m.188 5.625q0-.094.015-.25t0-.297l-.828.953q-.125.141-.258.219t-.226.047q-.141-.063-.125-.219l1.375-4.328q.077-.438-.141-.75-.219-.312-.703-.375-.547.015-1.195.461-.649.446-1.133 1.133v.234q-.015.158 0 .297l.827-.953q.126-.14.258-.219.135-.078.212-.046.156.077.109.25l-1.36 4.312a.78.78 0 0 0 .11.695q.219.306.766.415.78-.016 1.312-.453a5 5 0 0 0 .985-1.126"})))}},58551:function(e,t,n){Promise.resolve().then(n.bind(n,78462))},78462:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var a,s=n(57437),l=n(41309),r=n(41469),i=n(98267),c=n(80265),o=n(97800),d=n(66648),u=n(58250),x=n(2265),f=n(86362),m=n(78820),p=n(18156),g=n(90491),h=n(26735),v=n(92433),b=n(93691);let j=e=>{let{address:t}=(0,h.m)();return(0,g.Z)(async(e,n)=>t&&(0,v.Zs)(t,e,n),{refreshDeps:[t],onError:e=>(0,b.b)(e),manual:!0,...e})},y=e=>{let{address:t}=(0,h.m)();return(0,g.Z)(async(e,n)=>t&&(0,v.qb)(t,e,n),{refreshDeps:[t],onError:e=>(0,b.b)(e),manual:!0,...e})};var N=n(26186),w=n(71768),D=n(35478),Z=n(22340),I=n(58710),L=n(85053);let E=(0,x.forwardRef)((e,t)=>{var n;let{canChooseVoter:a,isDelegate:l,clickModalOpen:r,voterId:i}=e,[c,d]=w.ZP.useMessage(),[b,E]=D.ZP.useNotification(),[C,O]=(0,x.useState)(!1),[k,S]=(0,x.useState)(""),[H,T]=(0,x.useState)(),[A,F]=(0,x.useState)(!1),[P,M]=(0,x.useState)(!1),{address:U}=(0,h.m)(),{data:Y}=(0,o.aA)({cacheKey:"useSubnetList",staleTime:3e5}),{getvfheBalance:V}=(0,m.Z)(),{getUserDelegateList:G,getSubnetDelegateList:_}=(0,f.Z)(),q=(0,f.Z)(e=>e.userDelegateList),R=(0,L.d)((null==q?void 0:null===(n=q.find(e=>e.subnetId===(null==H?void 0:H.subnetId)))||void 0===n?void 0:n.amount)||BigInt(0)),B=(0,f.Z)(e=>e.userDelegateListLoading),{data:W,loading:K}=(0,o.As)(),Q=void 0!==W&&(0,p.sI)((0,L.d)(W)),{data:X,loading:z}=(0,o.UY)(),$=void 0!==X&&(0,p.sI)((0,L.d)(X)),{runAsync:J,loading:ee}=j(),{runAsync:et,loading:en}=y(),ea=(0,m.Z)(e=>e.vfheBalance),es=(0,m.Z)(e=>e.vfheLoading),{data:el,run:er,cancel:ei}=function(e){let{address:t}=(0,h.m)();return(0,g.Z)(async(e,n)=>t&&await (0,v.Po)(t,e,n),{refreshDeps:[t],manual:!0,...e})}({pollingInterval:3e3}),ec=()=>{O(!1),S("")};async function eo(){if((0,p.IZ)(k,c)){if(Number(k)<=Number(ea)){M(!0),F(!1);try{let e=await J(null==H?void 0:H.subnetId,k);e[0]&&er(null==H?void 0:H.subnetId,e[1])}catch(e){M(!1)}}else c.open({type:"warning",content:p.Qw,duration:5})}}async function ed(){(0,p.IZ)(k,c)&&(Number(k)<=Number(R)?(await et(null==H?void 0:H.subnetId,k),b.success({message:"Undelegate success",duration:5}),await V(U,p.nH),G(Y,U),_(Y),ec()):c.open({type:"warning",content:p.Qw,duration:5}))}return(0,x.useImperativeHandle)(t,()=>({clickDelegateOpen:e=>{T(e),O(!0)},clickDelegationClose:()=>{O(!1)}})),(0,N.Z)(async()=>{U&&(l?await V(U,p.nH):await G(U))},[U]),(0,N.Z)(async()=>{F(!1),U&&void 0!==el&&(null==el?void 0:el.length)!==0&&(1===el[0].status?(ei(),M(!1),b.success({message:"delegate success",duration:5}),await V(U,p.nH),G(Y,U),_(Y),ec()):1===el[0].is_delete?(ei(),F(!0),M(!1)):M(!0))},[el]),(0,s.jsxs)(s.Fragment,{children:[d,E,(0,s.jsxs)(Z.Z,{className:"mind-madal",title:l?"Delegate":"Undelegate",open:C,onCancel:ec,footer:[(0,s.jsx)(u.ZP,{type:"primary",className:"btn-primary w-full mb-[10px]",onClick:l?eo:ed,loading:l?P:en,children:(0,s.jsx)("span",{className:"text-[14px]",children:l?"Delegate":"Undelegate"})},"delegate"),(0,s.jsx)("div",{className:"mt-[5px] text-center text-[14px] text-red-500 ".concat(A?"":"hidden"),children:"Delegate failed, please retry!"},"delegateFail")],children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-[14px]",children:"Subnet:\xa0"}),(0,s.jsx)("span",{className:"text-primary text-[14px]",children:null==H?void 0:H.subnetName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-[14px]",children:"Your Delegation:\xa0"}),(0,s.jsxs)("span",{className:"text-primary text-[14px]",children:[B?"loading...":R," vFHE"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-[14px]",children:"Delegation Cap For Wave 1:\xa0"}),(0,s.jsxs)("span",{className:"text-primary text-[14px]",children:[K?"loading...":Q," vFHE"]})]}),(0,s.jsx)(I.Z,{placeholder:"Enter amount",value:k.trim(),onChange:e=>{S(e.target.value)},suffix:(0,s.jsx)("span",{className:"text-[14px] text-[var(--mind-brand)] cursor-pointer \n                ".concat(es?"hidden":""),onClick:function(){ea&&l?S(ea):R&&!l&&S(R)},children:"MAX"}),className:"mind-input mt-[20px]"}),(0,s.jsxs)("div",{className:"flex justify-between mt-[20px]",children:[(0,s.jsx)("span",{className:"text-primary text-[12px]",children:l?"Available To Delegate:":"Available To Undelegate:"}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("span",{className:"text-primary text-[12px]",children:[l?es?"loading...":ea:B?"loading...":R," ","vFHE"]}),(0,s.jsx)("img",{src:"/icons/refresh.svg",alt:"refresh",className:"cursor-pointer ".concat(es||B?"animate-refresh":""," ml-[5px]"),onClick:function(){return l&&U?V(U,p.nH):!l&&U?G(Y,U):void 0}})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-primary text-[12px]",children:"Max To Delegation:"}),(0,s.jsxs)("span",{className:"text-primary text-[12px] mr-[17px]",children:[" ",z?"loading...":$," ","vFHE"]})]})]})]})});var C=n(36852),O=n(4410);function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var S=function(e){return O.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none"},e),a||(a=O.createElement("path",{fill:"#00FFB1",d:"M6.937.908A6.945 6.945 0 0 0 0 7.845a6.945 6.945 0 0 0 6.937 6.937c1.17 0 2.32-.277 3.29-.812q.118.14.258.257l1.982 1.982a2.022 2.022 0 1 0 2.854-2.854l-1.982-1.982a2 2 0 0 0-.317-.257c.535-.972.872-2.101.872-3.29A6.945 6.945 0 0 0 6.957.887zm0 1.982c2.755 0 4.955 2.2 4.955 4.955 0 1.308-.475 2.517-1.308 3.41l-.06.059a2 2 0 0 0-.257.258c-.872.792-2.061 1.248-3.35 1.248a4.93 4.93 0 0 1-4.955-4.955c0-2.755 2.2-4.955 4.955-4.955z"})))};let H=[];for(let e=0;e<10;e++)H.push({key:e,voter:"Voter 0".concat(e),delegation:"100 vFHE",selfDelegation:"100%"});let T=(0,x.forwardRef)((e,t)=>{let{clickModalOpen:n}=e,[a,l]=(0,x.useState)(!1);return(0,x.useImperativeHandle)(t,()=>({clickVoterListOpen:()=>{l(!0)},clickVoterListClose:()=>{l(!1)}})),(0,s.jsx)("div",{children:(0,s.jsx)(Z.Z,{className:"mind-madal voter-list-modal",title:(0,s.jsxs)("div",{className:"flex items-center justify-between pr-[30px]",children:[(0,s.jsx)("span",{className:"text-[20px] font-[800]",children:"Voter List"}),(0,s.jsx)(I.Z,{placeholder:"Search By Voter",prefix:(0,s.jsx)(S,{}),className:"mind-input !w-[160px] !h-[28px]"})]}),open:a,onCancel:()=>{l(!1)},footer:null,children:(0,s.jsx)("div",{className:"mind-table",children:(0,s.jsx)(C.Z,{className:"mt-[20px]",dataSource:H,columns:[{title:"Voter",dataIndex:"voter"},{title:"Total Delegation",dataIndex:"delegation"},{title:"Self Delegation",dataIndex:"selfDelegation"},{title:"Action",dataIndex:"",render:(e,t)=>(0,s.jsx)("span",{className:"text-primary cursor-pointer",onClick:()=>{n(t.voter)},children:"Choose"})}],pagination:!1,bordered:!1,rowClassName:"bg-transparent text-light",scroll:{y:300}})})})})});var A=n(62655),F=n(84134),P=n(61574);function M(e){let{isDelegation:t,infor:n,rewardPerSubnetLoading:a,userDelegateListLoading:l,subnetDelegateListLoading:r,delegationYieldPartArrayLoading:i,voterYieldPartArrayArrayLoading:c}=e,o=(0,x.useRef)(null),f=(0,x.useRef)(null),[m,g]=(0,x.useState)("Voter1"),{isConnected:v}=(0,h.m)(),{openConnectModal:b}=(0,A.We)(),{checkIsCurrentChain:j}=(0,F.G)(),y=(e,t)=>{if(v){if(j(p.nH)){var n,a;null===(n=f.current)||void 0===n||n.clickVoterListClose(),null===(a=o.current)||void 0===a||a.clickDelegateOpen(t),g(e)}}else null==b||b()};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"p-[24px] rounded-[10px] bg-[var(--mind-bg-grey-color)]",children:[(0,s.jsxs)("div",{className:"h-[70px] flex items-center gap-[20px]",children:[(0,s.jsx)(d.default,{src:n.logo,alt:"create subnet",height:70,width:70,style:{borderRadius:"70px"}}),(0,s.jsx)("div",{className:"font-[800] text-[16px] text-light",children:n.subnetName})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-between mt-[30px]",children:[(0,s.jsxs)("div",{className:"text-light",children:[(0,s.jsxs)("div",{className:"text-[12px] h-[80px] mb-[10px] text-[var(--mind-text-grey-color)] ".concat(n.note?"":"hidden"),children:[n.note,(0,s.jsx)("a",{href:n.noteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--mind-brand-light)] text-[12px] hover:text-[var(--mind-brand)]",children:"\xa0 learn more >"})]}),(0,s.jsxs)("div",{className:"mt-[30px]",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-light text-[14px]",children:"Total Delegation: "}),(0,s.jsx)("span",{className:"text-light text-[14px]",children:r?"loading...":(0,p.tC)(n.totalDelegation)+" vFHE"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-light text-[14px]",children:"Delegation APY: "}),(0,s.jsx)("span",{className:"text-light text-[14px]",children:i?"loading...":(n.totalDelegation&&"0"!==n.totalDelegation?(0,p.tC)(n.delegationYield.div(new P.Z(n.totalDelegation)).toString()):0)+" vFHE"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-light text-[14px]",children:"Voting APY: "}),(0,s.jsx)("span",{className:"text-light text-[14px]",children:c?"loading...":(n.totalVoters?(0,p.tC)(n.voterYield.div(new P.Z(n.totalVoters)).toString()):0)+" vFHE"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-light text-[14px]",children:"vFHE Emission: "}),(0,s.jsx)("span",{className:"text-light text-[14px]",children:a?"loading...":n.vFHEEmission})]}),(0,s.jsxs)("div",{className:"flex justify-between text-[14px]",children:[(0,s.jsx)("span",{className:"text-light text-[14px]",children:"Your Delegation: "}),(0,s.jsx)("span",{className:"text-light text-[14px]",children:v?l?"loading...":n.yourDelegated+" vFHE":p.Gk})]})]})]}),(0,s.jsx)(u.ZP,{className:"mind-default-btn w-full mt-[30px]",onClick:()=>y(m,n),children:(0,s.jsx)("span",{className:"text-[14px] ",children:n.buttonContent})})]})]}),(0,s.jsx)(E,{ref:o,canChooseVoter:!0,isDelegate:!0,clickModalOpen:()=>{var e,t;null===(e=o.current)||void 0===e||e.clickDelegationClose(),null===(t=f.current)||void 0===t||t.clickVoterListOpen()},voterId:m}),(0,s.jsx)(T,{ref:f,clickModalOpen:y})]})}function U(){let{address:e}=(0,h.m)(),{data:t,loading:n}=(0,o.aA)({cacheKey:"useSubnetList",staleTime:3e5}),a=null==t?void 0:t.filter(e=>1===e.type||2===e.type),{getUserDelegateList:l,getSubnetDelegateList:r}=(0,f.Z)(),d=(0,f.Z)(e=>e.userDelegateList),u=(0,f.Z)(e=>e.subnetDelegateList),m=(0,f.Z)(e=>e.userDelegateListLoading),g=(0,f.Z)(e=>e.subnetDelegateListLoading),{data:v,loading:b}=(0,o.JZ)(t),{data:j}=(0,o.RH)(),{data:y,loading:N}=(0,o.j9)(t,j,v),{data:w,loading:D}=(0,o.FF)(t,j,v),{data:Z}=(0,o.i7)(!1),I=null==a?void 0:a.map(e=>{let t=null==v?void 0:v.find(t=>t.subnetId===e.id),n=null==y?void 0:y.find(t=>t.subnetId===e.id),a=null==Z?void 0:Z.find(t=>t.id===e.id),s=null==w?void 0:w.find(t=>t.subnetId===e.id);return{subnetId:e.id,logo:e.logo,note:e.note,noteUrl:e.note_url,subnetName:e.name,vFHEEmission:(null==t?void 0:t.rewardPerSubnet)||"0%",delegationYield:(null==n?void 0:n.delegationYieldPart)||new P.Z(0),voterYield:(null==s?void 0:s.voterYieldPart)||new P.Z(0),totalDelegation:e.totalDelegation,totalVoters:(null==a?void 0:a.voters)||0,yourDelegated:e.yourDelegated,buttonContent:"Delegate"}});return(0,x.useEffect)(()=>{t&&e&&l(t,e)},[t,e]),(0,x.useEffect)(()=>{r(t)},[t]),(0,x.useMemo)(()=>{if(d&&I)for(let e in I){let t=d.find(t=>t.subnetId===I[e].subnetId);I[e].yourDelegated=(0,p.tC)((0,L.d)((null==t?void 0:t.amount)||BigInt(0)))}},[I,d]),(0,x.useMemo)(()=>{if(u&&I)for(let e in I){let t=u.find(t=>t.subnetId===I[e].subnetId);I[e].totalDelegation=(0,L.d)((null==t?void 0:t.amount)||BigInt(0))}},[I,u]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"text-light text-[20px] font-[800]",children:"Available Hubs "}),(0,s.jsx)("a",{href:"https://docs.mindnetwork.xyz/minddocs/products/mindv/delegate-vfhe",className:"text-[var(--mind-brand-light)] underline hover:text-[var(--mind-brand)] hover:underline",target:"_black",children:"How it works?"})]}),n?(0,s.jsx)("div",{className:"text-light text-center mt-[10px]",children:"loading..."}):(null==I?void 0:I.length)?(0,s.jsx)(i.Z,{className:"mt-[20px]",gutter:[16,{xs:16,sm:16,md:24}],children:null==I?void 0:I.map((e,t)=>(0,s.jsx)(c.Z,{className:"gutter-row",xs:{span:24},md:{span:12},lg:{span:8},children:(0,s.jsx)(M,{isDelegation:!0,infor:e,rewardPerSubnetLoading:b,userDelegateListLoading:m,subnetDelegateListLoading:g,delegationYieldPartArrayLoading:N,voterYieldPartArrayArrayLoading:D})},e.subnetId))}):(0,s.jsx)("div",{className:"text-light text-center mt-[10px]",children:"No Data"})]})}var Y=n(24989),V=n(87138);function G(){let e=(0,x.useRef)(null),{address:t,isConnected:n}=(0,h.m)(),{openConnectModal:a}=(0,A.We)(),{checkIsCurrentChain:l}=(0,F.G)(),[r,i]=(0,x.useState)(!1),[c,d]=(0,x.useState)(""),{data:m}=(0,o.aA)({cacheKey:"useSubnetList",staleTime:3e5}),g=null==m?void 0:m.filter(e=>1===e.type||2===e.type),{getUserDelegateList:v}=(0,f.Z)(),b=(0,f.Z)(e=>e.userDelegateList);(0,f.Z)(e=>e.userDelegateListLoading);let{data:j,loading:y}=(0,o.Gq)(b),N=null==g?void 0:g.map(e=>{let t=null==j?void 0:j.find(t=>t.subnetId===e.id);return{subnetId:e.id,subnetName:e.name,yourDelegated:e.yourDelegated,rewards:(0,p.tC)((0,L.d)((null==t?void 0:t.rewards)||BigInt(0)))}}),w=(t,s,r)=>{if(n){if(l(p.nH)){var c;null===(c=e.current)||void 0===c||c.clickDelegateOpen(r),i(t),d(s)}}else null==a||a()};(0,Y.Z)(e=>e.eventUpdateTime);let D=[{title:"Hub",dataIndex:"subnetName",fixed:"left"},{title:(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("span",{children:"Your Delegation"})}),dataIndex:"yourDelegated",render:e=>(0,s.jsxs)("span",{className:"text-light",children:[e," vFHE"]})},{title:"Your vFHE Rewards",dataIndex:"rewards",render:e=>(0,s.jsxs)("span",{className:"text-light",children:[e," vFHE"]})},{title:(0,s.jsx)("div",{className:"text-center",children:"Action"}),dataIndex:"",width:270,render:(e,t)=>(0,s.jsxs)("div",{className:"flex gap-[10px] justify-center",children:[(0,s.jsx)(u.ZP,{type:"primary",className:"btn-primary w-[130px]",onClick:()=>w(!0,t.voterId,t),children:(0,s.jsx)("span",{className:"text-[14px]",children:"Delegate More +"})}),(0,s.jsx)(u.ZP,{type:"primary",className:"btn-primary w-[130px]",onClick:()=>w(!1,t.voterId,t),children:(0,s.jsx)("span",{className:"text-[14px]",children:"Undelegate -"})})]})}];return(0,x.useEffect)(()=>{m&&t&&v(m,t)},[m,t]),(0,x.useMemo)(()=>{if(b&&N)for(let e in N){let t=b.find(t=>t.subnetId===N[e].subnetId);N[e].yourDelegated=(0,p.tC)((0,L.d)((null==t?void 0:t.amount)||BigInt(0)))}},[N,b]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("a",{href:"https://docs.mindnetwork.xyz/minddocs/products/mindv/delegate-vfhe",className:"text-[var(--mind-brand-light)] underline hover:text-[var(--mind-brand)] hover:underline",target:"_black",children:"How it works?"})}),(0,s.jsxs)("div",{className:"mind-table pool-table",children:[(0,s.jsx)(C.Z,{className:"mt-[20px]",dataSource:n?N:void 0,columns:D,pagination:!1,bordered:!1,rowKey:"subnetId",rowClassName:"bg-transparent text-light",loading:y,scroll:{x:1e3}}),(0,s.jsxs)("div",{className:"text-light text-right",children:["Go"," ",(0,s.jsxs)(V.default,{href:"/",className:"text-[var(--mind-brand-light)] underline hover:text-[var(--mind-brand)] hover:underline",children:[" ","Dashboard"]})," ","to redeem your vFHE rewards to your wallet !"]})]}),(0,s.jsx)(E,{ref:e,canChooseVoter:!1,isDelegate:r,voterId:c})]})}var _=n(87496);function q(){let{address:e}=(0,h.m)(),{getvfheBalance:t}=(0,m.Z)(),n=(0,m.Z)(e=>e.vfheBalance),a=(0,m.Z)(e=>e.vfheLoading);return(0,x.useEffect)(()=>{e&&t(e,p.nH)},[e]),(0,s.jsxs)("div",{className:"flex flex-col md:h-full",children:[(0,s.jsxs)("div",{className:"md:flex gap-[40px]",children:[(0,s.jsx)(_.Z,{isCenter:!0}),(0,s.jsx)(l.Z,{title:"Your Available vFHE For Delegation",num:a?"loading...":(0,p.tC)(n),unit:"vFHE",haveTips:!1})]}),(0,s.jsx)(r.Z,{className:"mind-tab !mt-[50px] h-0 flex-1",defaultActiveKey:"1",items:[{label:"Delegation",key:"1",children:(0,s.jsx)(U,{})},{label:"Your Delegation",key:"2",children:(0,s.jsx)(G,{})}]})]})}},87496:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var a,s=n(57437),l=n(26735),r=n(18156),i=n(24989),c=n(2265),o=n(4410);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var u=function(e){return o.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),a||(a=o.createElement("path",{fill:"#fff",d:"M1.698 2.856a.6.6 0 0 0-.383.2c-.207.246-.212.578.073.857a2.34 2.34 0 0 0 1.695.693c.403 0 .898-.11 1.295-.383.121-.084.338-.198.583-.2.254-.003.54.039.711.163.361.265.848.418 1.313.42.501.001 1.004-.145 1.312-.383.209-.162.476-.2.73-.2.253 0 .38.046.692.236.379.23.782.349 1.221.347.749-.005 1.236-.263 1.732-.766a.553.553 0 0 0-.019-.802c-.233-.221-.58-.252-.802-.018-.03.032-.172.154-.182.164-.172.168-.465.259-.729.255a1.15 1.15 0 0 1-.62-.182c-.49-.325-.901-.401-1.403-.401-.338 0-.846.109-1.185.346-.43.3-.999.292-1.367.036-.415-.287-.915-.4-1.404-.382-.506.017-.9.169-1.258.419-.307.214-.92.219-1.258-.018L2.117 3c-.166-.116-.261-.174-.419-.145m0 2.916a.6.6 0 0 0-.383.2c-.207.247-.194.578.091.858a2.3 2.3 0 0 0 1.677.692c.403 0 .898-.109 1.295-.383.121-.083.338-.198.583-.2.254-.003.54.04.711.164.361.265.848.418 1.313.42.501 0 1.004-.145 1.312-.384.209-.161.476-.2.73-.2.253 0 .38.047.692.237.379.23.782.349 1.221.346.749-.004 1.236-.262 1.732-.765a.574.574 0 0 0-.019-.82c-.233-.222-.58-.234-.802 0-.03.032-.172.154-.182.163-.172.17-.465.26-.729.256a1.15 1.15 0 0 1-.62-.183c-.49-.325-.901-.4-1.403-.4-.338 0-.846.109-1.185.346-.43.3-.999.292-1.367.036-.415-.287-.915-.4-1.404-.383-.506.018-.9.17-1.258.42-.307.214-.92.218-1.258-.019L2.117 5.9c-.166-.117-.261-.156-.419-.128m0 2.917a.6.6 0 0 0-.383.2c-.207.246-.194.578.091.857a2.3 2.3 0 0 0 1.677.693c.403 0 .898-.11 1.295-.383.121-.084.338-.198.583-.2.254-.003.54.039.711.164.361.264.848.418 1.313.419.501.001 1.004-.144 1.312-.383.209-.162.476-.2.73-.2.253 0 .38.047.692.236.379.231.782.35 1.221.347.749-.004 1.236-.262 1.732-.766a.553.553 0 0 0-.019-.802c-.233-.221-.58-.252-.802-.018-.03.032-.172.154-.182.164-.172.169-.465.26-.729.255a1.15 1.15 0 0 1-.62-.182c-.49-.325-.901-.401-1.403-.401-.338 0-.846.11-1.185.346-.43.3-.999.292-1.367.037-.415-.287-.915-.4-1.404-.383-.506.018-.9.169-1.258.42-.307.214-.92.218-1.258-.02l-.328-.254c-.166-.117-.261-.175-.419-.146"})))},x=n(58250),f=n(86362),m=n(97800),p=n(85053);function g(e){let{isCenter:t=!1,haveNav:n=!1}=e,{address:a,isConnected:o}=(0,l.m)(),{data:d}=(0,m.aA)({cacheKey:"useSubnetList",staleTime:3e5}),{getUserDelegateList:g,getSubnetDelegateList:h}=(0,f.Z)(),v=(0,f.Z)(e=>e.userDelegateList),b=(0,f.Z)(e=>e.userDelegateListLoading),j=(0,c.useRef)(null);(0,i.Z)(e=>e.eventUpdateTime),(0,c.useEffect)(()=>{d&&a&&g(d,a)},[d,a]);let y=(0,c.useMemo)(()=>Array.isArray(v)?(0,p.d)(v.reduce((e,t)=>e+BigInt(t.amount),BigInt(0))):0,[v]);return(0,s.jsx)("div",{className:"flex-1 p-[20px] rounded-[10px] \n        ".concat(n?"bg-[url('../public/images/box-heavy-bg.png')]":"bg-[url('../public/images/box-heavy-bg2.png')]"," \n        bg-no-repeat bg-cover  ").concat(t?"flex":""," justify-center items-center"),children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-light flex items-center justify-between",children:(0,s.jsx)("div",{className:"text-light flex items-center",children:(0,s.jsx)("span",{children:"Your Delegated vFHE"})})}),(0,s.jsxs)("div",{className:"text-light-shadow ",children:[(0,s.jsx)("span",{className:"text-[36px]",children:o?b?"loading...":(0,r.tC)(y):r.Gk}),(0,s.jsxs)("span",{className:"text-primary",children:[" ",o?"vFHE":""]})]}),(0,s.jsx)(x.ZP,{className:"mind-default-btn ".concat(n?"":"!hidden"),icon:(0,s.jsx)(u,{}),iconPosition:"end",onClick:()=>{var e;null===(e=j.current)||void 0===e||e.clickNavigationOpen()},children:(0,s.jsx)("span",{className:"text-[14px]",children:"Navigation"})})]})})}},41309:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57437),s=n(26735),l=n(18156),r=n(96714);function i(e){let{title:t,num:n,unit:i,haveTips:c=!0,tipTitle:o,haveRefresh:d=!1,refreshFun:u}=e,{isConnected:x}=(0,s.m)();return(0,a.jsx)("div",{className:"flex-1 mt-[20px] md:mt-[0] p-[20px] rounded-[10px] flex items-center justify-center bg-[url('../public/images/box-heavy-bg2.png')] bg-no-repeat bg-cover bg-left-top",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-light text-left flex items-center",children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("div",{className:"".concat(c?"":"hidden"),children:(0,a.jsx)(r.Z,{placement:"right",title:o})}),(0,a.jsx)("img",{src:"/icons/refresh2.svg",alt:"refresh2",className:"cursor-pointer ml-[5px] ".concat(d?"":"hidden"),onClick:()=>null==u?void 0:u()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-light-shadow text-[36px]",children:"TGV"===t?n:x?n:l.Gk}),(0,a.jsxs)("span",{className:"text-primary",children:[" ","TGV"===t?i:x?i:""]})]})]})})}},96714:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(57437),s=n(50644);n(2265);var l=n(53030);function r(e){let{placement:t,title:n}=e;return(0,a.jsx)(s.Z,{placement:t,title:n,arrow:!1,color:"#111d1b",className:"ml-[5px]",children:(0,a.jsx)("div",{children:(0,a.jsx)(l.default,{className:"hover:fill-[var(--mind-brand)]"})})})}},86362:function(e,t,n){"use strict";var a=n(39099),s=n(97800);let l=(0,a.Ue)(e=>({userDelegateList:void 0,subnetDelegateList:void 0,userDelegateListLoading:!1,subnetDelegateListLoading:!1,getUserDelegateList:async(t,n)=>{let a;e({userDelegateListLoading:!0}),a=n&&Array.isArray(t)?await Promise.all(t.map(async e=>{let t=e.id,a=await (0,s.eE)(n,t);return{subnetId:t,amount:a}})):void 0,e({userDelegateListLoading:!1}),e({userDelegateList:a})},getSubnetDelegateList:async t=>{let n;e({subnetDelegateListLoading:!0}),n=Array.isArray(t)?await Promise.all(t.map(async e=>{let t=e.id,n=await (0,s.Rr)(t);return{subnetId:t,amount:n}})):void 0,e({subnetDelegateListLoading:!1}),e({subnetDelegateList:n})}}));t.Z=l},24989:function(e,t,n){"use strict";var a=n(89597),s=n(62737),l=n.n(s);let r=(0,n(39099).Ue)((e,t)=>({eventUpdateTime:"",daySettleTime:"",userTvl:[],partnerUserTvl:[],partnerUserTGVrefresh:Function,mindUserTGVrefresh:Function,fetchEventUpdateTime:async()=>{let t=await (0,a.M)(),n=null==t?void 0:t.update_time;e({eventUpdateTime:n&&l()(n).format("YYYY-MM-DD HH:mm")})},fetchDaySettleTime:async()=>{var t;let n=null===(t=(await (0,a.F)())[0])||void 0===t?void 0:t.date;e({daySettleTime:n&&l()(n).add(1,"day").add(1,"hour").format("YYYY-MM-DD HH:mm")})},init:async()=>{t().fetchEventUpdateTime(),t().fetchDaySettleTime()},addUserTvl:t=>{e(e=>{let n=e.userTvl.findIndex(e=>e.key===t.key);if(-1===n)return{userTvl:[...e.userTvl,t]};{let a=[...e.userTvl];return a[n]=t,{userTvl:a}}})},setPartnerUserTGVrefresh:t=>e({partnerUserTGVrefresh:t}),setMindUserTGVrefresh:t=>e({mindUserTGVrefresh:t})}));t.Z=r},78820:function(e,t,n){"use strict";var a=n(39099),s=n(97800),l=n(85053);let r=(0,a.Ue)((e,t)=>({vfheBalance:"0",vfheLoading:!1,getvfheBalance:async(t,n)=>{e({vfheLoading:!0});let a=await (0,s.j1)(t,n);e({vfheLoading:!1}),e({vfheBalance:(0,l.d)(a.value)})}}));t.Z=r},84134:function(e,t,n){"use strict";n.d(t,{G:function(){return l}});var a=n(26735),s=n(26260);function l(){let{chainId:e}=(0,a.m)(),{chains:t,switchChain:n}=(0,s.o)();return{checkIsCurrentChain:function(t){return t===e||(n({chainId:t}),!1)}}}},26186:function(e,t,n){"use strict";var a=n(11735),s=n(2265),l=n(1583);t.Z=function(e,t){(0,s.useEffect)(function(){var t=e(),n=!1;return!function(){(0,a.__awaiter)(this,void 0,void 0,function(){return(0,a.__generator)(this,function(e){switch(e.label){case 0:if(!(0,l.mf)(t[Symbol.asyncIterator]))return[3,4];e.label=1;case 1:return[4,t.next()];case 2:if(e.sent().done||n)return[3,3];return[3,1];case 3:return[3,6];case 4:return[4,t];case 5:e.sent(),e.label=6;case 6:return[2]}})})}(),function(){n=!0}},t)}},80265:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var a=n(2265),s=n(56800),l=n.n(s),r=n(38750),i=n(13413),c=n(38669),o=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n};function d(e){return"number"==typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}let u=["xs","sm","md","lg","xl","xxl"];var x=a.forwardRef((e,t)=>{let{getPrefixCls:n,direction:s}=a.useContext(r.E_),{gutter:x,wrap:f}=a.useContext(i.Z),{prefixCls:m,span:p,order:g,offset:h,push:v,pull:b,className:j,children:y,flex:N,style:w}=e,D=o(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Z=n("col",m),[I,L,E]=(0,c.cG)(Z),C={},O={};u.forEach(t=>{let n={},a=e[t];"number"==typeof a?n.span=a:"object"==typeof a&&(n=a||{}),delete D[t],O=Object.assign(Object.assign({},O),{["".concat(Z,"-").concat(t,"-").concat(n.span)]:void 0!==n.span,["".concat(Z,"-").concat(t,"-order-").concat(n.order)]:n.order||0===n.order,["".concat(Z,"-").concat(t,"-offset-").concat(n.offset)]:n.offset||0===n.offset,["".concat(Z,"-").concat(t,"-push-").concat(n.push)]:n.push||0===n.push,["".concat(Z,"-").concat(t,"-pull-").concat(n.pull)]:n.pull||0===n.pull,["".concat(Z,"-rtl")]:"rtl"===s}),n.flex&&(O["".concat(Z,"-").concat(t,"-flex")]=!0,C["--".concat(Z,"-").concat(t,"-flex")]=d(n.flex))});let k=l()(Z,{["".concat(Z,"-").concat(p)]:void 0!==p,["".concat(Z,"-order-").concat(g)]:g,["".concat(Z,"-offset-").concat(h)]:h,["".concat(Z,"-push-").concat(v)]:v,["".concat(Z,"-pull-").concat(b)]:b},j,O,L,E),S={};if(x&&x[0]>0){let e=x[0]/2;S.paddingLeft=e,S.paddingRight=e}return N&&(S.flex=d(N),!1!==f||S.minWidth||(S.minWidth=0)),I(a.createElement("div",Object.assign({},D,{style:Object.assign(Object.assign(Object.assign({},S),w),C),className:k,ref:t}),y))})},13413:function(e,t,n){"use strict";let a=(0,n(2265).createContext)({});t.Z=a},38669:function(e,t,n){"use strict";n.d(t,{VM:function(){return d},cG:function(){return u}});var a=n(37540),s=n(2330),l=n(35413);let r=e=>{let{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},i=(e,t)=>{let{prefixCls:n,componentCls:a,gridColumns:s}=e,l={};for(let e=s;e>=0;e--)0===e?(l["".concat(a).concat(t,"-").concat(e)]={display:"none"},l["".concat(a,"-push-").concat(e)]={insetInlineStart:"auto"},l["".concat(a,"-pull-").concat(e)]={insetInlineEnd:"auto"},l["".concat(a).concat(t,"-push-").concat(e)]={insetInlineStart:"auto"},l["".concat(a).concat(t,"-pull-").concat(e)]={insetInlineEnd:"auto"},l["".concat(a).concat(t,"-offset-").concat(e)]={marginInlineStart:0},l["".concat(a).concat(t,"-order-").concat(e)]={order:0}):(l["".concat(a).concat(t,"-").concat(e)]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:"0 0 ".concat(e/s*100,"%"),maxWidth:"".concat(e/s*100,"%")}],l["".concat(a).concat(t,"-push-").concat(e)]={insetInlineStart:"".concat(e/s*100,"%")},l["".concat(a).concat(t,"-pull-").concat(e)]={insetInlineEnd:"".concat(e/s*100,"%")},l["".concat(a).concat(t,"-offset-").concat(e)]={marginInlineStart:"".concat(e/s*100,"%")},l["".concat(a).concat(t,"-order-").concat(e)]={order:e});return l["".concat(a).concat(t,"-flex")]={flex:"var(--".concat(n).concat(t,"-flex)")},l},c=(e,t)=>i(e,t),o=(e,t,n)=>({["@media (min-width: ".concat((0,a.bf)(t),")")]:Object.assign({},c(e,n))}),d=(0,s.I$)("Grid",e=>{let{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},()=>({})),u=(0,s.I$)("Grid",e=>{let t=(0,l.IX)(e,{gridColumns:24}),n={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[r(t),c(t,""),c(t,"-xs"),Object.keys(n).map(e=>o(t,n[e],e)).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})]},()=>({}))},98267:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var a=n(2265),s=n(56800),l=n.n(s),r=n(6987),i=n(38750),c=n(13413),o=n(38669),d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n};function u(e,t){let[n,s]=a.useState("string"==typeof e?e:""),l=()=>{if("string"==typeof e&&s(e),"object"==typeof e)for(let n=0;n<r.c4.length;n++){let a=r.c4[n];if(!t[a])continue;let l=e[a];if(void 0!==l){s(l);return}}};return a.useEffect(()=>{l()},[JSON.stringify(e),t]),n}var x=a.forwardRef((e,t)=>{let{prefixCls:n,justify:s,align:x,className:f,style:m,children:p,gutter:g=0,wrap:h}=e,v=d(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:b,direction:j}=a.useContext(i.E_),[y,N]=a.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[w,D]=a.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),Z=u(x,w),I=u(s,w),L=a.useRef(g),E=(0,r.ZP)();a.useEffect(()=>{let e=E.subscribe(e=>{D(e);let t=L.current||0;(!Array.isArray(t)&&"object"==typeof t||Array.isArray(t)&&("object"==typeof t[0]||"object"==typeof t[1]))&&N(e)});return()=>E.unsubscribe(e)},[]);let C=b("row",n),[O,k,S]=(0,o.VM)(C),H=(()=>{let e=[void 0,void 0];return(Array.isArray(g)?g:[g,void 0]).forEach((t,n)=>{if("object"==typeof t)for(let a=0;a<r.c4.length;a++){let s=r.c4[a];if(y[s]&&void 0!==t[s]){e[n]=t[s];break}}else e[n]=t}),e})(),T=l()(C,{["".concat(C,"-no-wrap")]:!1===h,["".concat(C,"-").concat(I)]:I,["".concat(C,"-").concat(Z)]:Z,["".concat(C,"-rtl")]:"rtl"===j},f,k,S),A={},F=null!=H[0]&&H[0]>0?-(H[0]/2):void 0;F&&(A.marginLeft=F,A.marginRight=F);let[P,M]=H;A.rowGap=M;let U=a.useMemo(()=>({gutter:[P,M],wrap:h}),[P,M,h]);return O(a.createElement(c.Z.Provider,{value:U},a.createElement("div",Object.assign({},v,{className:T,style:Object.assign(Object.assign({},A),m),ref:t}),p)))})}},function(e){e.O(0,[9472,733,8250,6207,718,8948,8710,8173,6333,1768,1259,6145,6682,6852,3414,5191,1469,2340,9756,2971,7023,1744],function(){return e(e.s=58551)}),_N_E=e.O()}]);